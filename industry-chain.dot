strict digraph {
    compound=true
    subgraph cluster_city {
        label = "Town"
        Hotel
        "ECS Houses"
        "Town Houses" [ shape=ellipse]
        "Store"
        "Bank"
        "Water Tower"
        "City Hall"
    }
    "Coal Mine" [ shape=ellipse]
    "Power Plant" [ shape=ellipse]
    "Coal Mine" -> "Power Plant" [ label = "Coal"]
    "Oil Wells" [ shape=ellipse]
    "Oil Rig" [ shape=ellipse]
    "Oil Refinery" [ shape=ellipse]
    "Oil Wells" -> "Oil Refinery" [label = Oil]
    "Oil Rig" -> "Oil Refinery" [label = Oil]
    "Farm" [ shape=ellipse]
    "Factory"
    "Forest"
    "Lumber Mill"
    "Iron Ore Mine"
    "Foundry"
    "Paper Mill"
    "Iron Ore Mine" -> "Foundry" [label = "Iron Ore"]
    "Lumber Mill" -> "Paper Mill" [label = "Wood"]
    Forest -> "Paper Mill" [label = "Wood"]
    Farm -> "Paper Mill"  [label = "Flax"]
    "Foundry" -> Factory [label = "Metal"]
    "Food Processing Plant"
    Farm -> "Food Processing Plant"  [label = "Grain"]
    "Food Processing Plant" -> "Town Houses" [label = "Food"]
    "Copper Ore Mine"
    "Copper Ore Mine" -> "Foundry" [label = "Copper Ore"]
    "Fruit Plantation"
    "Oil Refinery" -> "Store" [label = "Petrol"]
    "Fruit Plantation" "Oil Refinery"
    "Fruit Plantation" -> "Food Processing Plant" [label = "Fruit"]
    "Food Processing Plant" -> "ECS Houses"  [label = "Food"]
    "Oil Refinery" -> "ECS Houses" [label = "Petrol"]
    "Food Processing Plant" -> Hotel [label = "Food"]
    "Rubber Plantation"
    "Ranch"
    Ranch -> "Food Processing Plant" [label="Livestock"]
    "Oil Rig" -> "Town Houses"[label="Passengers", dir=both]
    "Water Supply"
    "Water Supply" -> "Water Tower" [label="Water"]
    "Desalination Plant"
    "Desalination Plant" -> "Water Tower" [label="Water"]
    "Gold Mine"
    "Diamond Mine"
    Bank -> Bank[label="Valuables"]
    "Food Processing Plant" -> "Store" [label="Food"]
    "Junkyard" -> "Foundry" [label="Scrap Metal"]
    "Fruit Plantation" -> Hotel [label="Beverages"]
    "Oil Refinery" -> "Power Plant" [label="Petrol"]
    "Junkyard"
    "Desalination Plant" "Oil Refinery"
    "Junkyard" -> "Power Plant"[label="Waste"]
    Bank
    "Gold Mine" -> Bank[label="Gold"]
    "Diamond Mine" -> Bank[label="Diamond"]
    "Chemicals Plant"
    "Copper Ore Mine" -> "Chemicals Plant"[label="Sulphur"]
    "Desalination Plant" -> "Chemicals Plant" [label="Chemicals"]
    Junkyard -> "Chemicals Plant" [label="Chemicals"]
    Farm -> "Oil Refinery" [label="Oil Seeds"]
    "Rubber Plantation" -> Factory [label=Rubber]
    "Printing Works"
    "Paper Mill" -> "Printing Works" [label=Paper]
    "Chemicals Plant" -> "Printing Works" [label=Dyes]
    "Printing Works" -> "Town Houses" [label=Goods]
    Factory -> "ECS Houses" [label=Vehicles]
    Factory -> Store [label=Vehicles]
    "Glass Works"
    "Gold Mine" -> "Glass Works" [label=Sand]
    "Glass Works" -> Factory [label=Glass]
    "Limestone Mine"
    "Limestone Mine" -> "Glass Works" [label=Limestone]
    "Fruit Plantation" -> Store [label=Beverages]
}